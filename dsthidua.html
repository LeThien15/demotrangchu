<!DOCTYPE html><html lang="vi"><head><meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://cdnjs.cloudflare.com https://cdn.jsdelivr.net https://code.jquery.com https://unpkg.com https://d3js.org https://threejs.org https://cdn.plot.ly https://stackpath.bootstrapcdn.com https://maps.googleapis.com https://cdn.tailwindcss.com https://ajax.googleapis.com https://kit.fontawesome.com https://cdn.datatables.net https://maxcdn.bootstrapcdn.com https://code.highcharts.com https://tako-static-assets-production.s3.amazonaws.com https://www.youtube.com https://fonts.googleapis.com https://fonts.gstatic.com https://pfst.cf2.poecdn.net https://puc.poecdn.net https://i.imgur.com https://wikimedia.org https://*.icons8.com https://*.giphy.com https://picsum.photos https://images.unsplash.com; frame-src 'self' https://www.youtube.com https://trytako.com; child-src 'self'; manifest-src 'self'; worker-src 'self'; upgrade-insecure-requests; block-all-mixed-content;">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh sách Chương trình Thi đua - Cổng Thông Tin Chuyển Đổi Số</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #f8f9fa;
        }

        /* Header */
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .nav-container {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
            height: 60px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 1rem;
            min-width: 200px;
        }

        .logo-icon {
            position: relative;
            width: 45px;
            height: 45px;
            background: linear-gradient(135deg, #ff6b6b 0%, #ffd93d 50%, #74b9ff 100%);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .logo-icon::before {
            content: '';
            position: absolute;
            top: 6px;
            left: 6px;
            right: 6px;
            bottom: 6px;
            background: rgba(255,255,255,0.3);
            border-radius: 6px;
            border: 1px solid rgba(255,255,255,0.4);
        }

        .logo-icon i {
            font-size: 1.4rem;
            color: white;
            z-index: 1;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.3));
        }

        .logo-text {
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
            font-size: 1.8rem;
            font-weight: 800;
            letter-spacing: 1px;
            background: linear-gradient(135deg, #ffffff 0%, #e8f4fd 50%, #ffffff 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 0;
            align-items: center;
            height: 100%;
        }

        .nav-menu li {
            height: 100%;
            display: flex;
            align-items: center;
        }

        .nav-menu a {
            color: white;
            text-decoration: none;
            padding: 1rem 1.5rem;
            border-radius: 5px;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.3rem;
            height: 100%;
            min-width: 80px;
            text-align: center;
        }

        .nav-menu a:hover,
        .nav-menu a.active {
            background-color: rgba(255,255,255,0.2);
        }

        .nav-menu a i {
            font-size: 1.2rem;
            margin-bottom: 0.2rem;
        }

        .nav-menu a span {
            font-size: 0.9rem;
            font-weight: 500;
            white-space: nowrap;
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .search-box {
            display: flex;
            align-items: center;
            background: rgba(255,255,255,0.2);
            border-radius: 25px;
            padding: 0.5rem 1rem;
            min-width: 250px;
            height: 40px;
        }

        .search-box input {
            background: none;
            border: none;
            color: white;
            outline: none;
            flex: 1;
            margin-left: 0.5rem;
            font-size: 0.9rem;
        }

        .search-box input::placeholder {
            color: rgba(255,255,255,0.8);
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255,255,255,0.2);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
        }

        /* Breadcrumb */
        .breadcrumb {
            background: white;
            padding: 1rem 0;
            border-bottom: 1px solid #eee;
        }

        .breadcrumb-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .breadcrumb-nav {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.9rem;
            color: #666;
        }

        .breadcrumb-nav a {
            color: #667eea;
            text-decoration: none;
            transition: color 0.3s;
        }

        .breadcrumb-nav a:hover {
            color: #5a67d8;
        }

        /* Page Header */
        .page-header {
            background: linear-gradient(135deg, #fff7e6 0%, #fef3e2 100%);
            padding: 2rem 0;
            border-bottom: 1px solid #dee2e6;
        }

        .page-header-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .page-title {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.5rem;
        }

        .page-title h1 {
            font-size: 2.2rem;
            color: #333;
            font-weight: 700;
        }

        .page-title .title-icon {
            font-size: 2rem;
            color: #f39c12;
            background: white;
            padding: 0.8rem;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.2);
        }

        .page-description {
            color: #666;
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
        }

        .page-stats {
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
        }

        .page-stat {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            background: white;
            padding: 0.8rem 1.2rem;
            border-radius: 10px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        }

        .page-stat i {
            color: #f39c12;
            font-size: 1.1rem;
        }

        .page-stat .stat-value {
            font-weight: 600;
            color: #333;
        }

        .page-stat .stat-label {
            color: #666;
            font-size: 0.9rem;
        }

        /* Main Container */
        .main-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
        }

        /* Filter & Controls */
        .controls-section {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border: 1px solid #eee;
        }

        .controls-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .controls-title {
            font-size: 1.3rem;
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .add-program-btn {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(243, 156, 18, 0.3);
        }

        .add-program-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(243, 156, 18, 0.4);
        }

        /* Search & Filters */
        .search-filters {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr auto;
            gap: 1rem;
            align-items: end;
            margin-bottom: 1.5rem;
        }

        .search-group {
            position: relative;
        }

        .search-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: #333;
            font-size: 0.9rem;
        }

        .search-input-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-input {
            width: 100%;
            padding: 0.8rem 1rem 0.8rem 2.5rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 0.95rem;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        .search-input:focus {
            outline: none;
            border-color: #f39c12;
            box-shadow: 0 0 0 3px rgba(243, 156, 18, 0.1);
            background: white;
        }

        .search-icon {
            position: absolute;
            left: 0.8rem;
            color: #999;
            font-size: 1rem;
        }

        .filter-select {
            padding: 0.8rem 1rem;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            font-size: 0.95rem;
            background: #f8f9fa;
            transition: all 0.3s;
            cursor: pointer;
        }

        .filter-select:focus {
            outline: none;
            border-color: #f39c12;
            box-shadow: 0 0 0 3px rgba(243, 156, 18, 0.1);
            background: white;
        }

        .clear-filters-btn {
            padding: 0.8rem 1.5rem;
            background: #6c757d;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .clear-filters-btn:hover {
            background: #5a6268;
            transform: translateY(-2px);
        }

        /* Active Filters */
        .active-filters {
            display: flex;
            gap: 0.8rem;
            flex-wrap: wrap;
            margin-bottom: 1rem;
        }

        .filter-tag {
            background: #f39c12;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            animation: slideIn 0.3s ease;
        }

        .filter-tag .remove-filter {
            cursor: pointer;
            font-size: 0.8rem;
            padding: 0.1rem;
            border-radius: 50%;
            transition: background 0.3s;
        }

        .filter-tag .remove-filter:hover {
            background: rgba(255,255,255,0.2);
        }

        /* Results Header */
        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .results-info {
            color: #666;
            font-size: 0.95rem;
        }

        .results-count {
            font-weight: 600;
            color: #333;
        }

        .sort-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .sort-label {
            font-size: 0.9rem;
            color: #666;
            font-weight: 500;
        }

        .sort-select {
            padding: 0.6rem 1rem;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            font-size: 0.9rem;
            background: white;
            cursor: pointer;
        }

        /* Competition Grid - IMPROVED LAYOUT */
        .competitions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(450px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .competition-card {
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border: 1px solid #eee;
            overflow: hidden;
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            height: 640px; /* Increased fixed height for better content fit */
            display: flex;
            flex-direction: column;
        }

        .competition-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
        }

        .card-header {
            background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);
            color: white;
            padding: 1.5rem;
            position: relative;
            min-height: 140px; /* Fixed header height */
            display: flex;
            flex-direction: column;
            justify-content: space-between;
        }

        .card-id {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: rgba(255,255,255,0.25);
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 700;
            letter-spacing: 0.5px;
            border: 1px solid rgba(255,255,255,0.3);
            backdrop-filter: blur(10px);
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-bottom: 0.8rem;
            line-height: 1.4;
            padding-right: 6rem; /* More space for ID badge */
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            min-height: 3.4rem; /* Ensure consistent height for 2 lines */
            max-height: 3.4rem;
        }

        .card-meta {
            display: flex;
            gap: 1.5rem;
            font-size: 0.9rem;
            opacity: 0.95;
            margin-top: auto;
            flex-wrap: wrap;
        }

        .card-meta span {
            display: flex;
            align-items: center;
            gap: 0.4rem;
            white-space: nowrap;
        }

        .card-body {
            padding: 1.5rem;
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 1rem; /* Consistent spacing between sections */
        }

        .card-description {
            color: #666;
            line-height: 1.6;
            font-size: 0.92rem;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            text-overflow: ellipsis;
            min-height: 4.5rem; /* Fixed height for 3 lines */
            max-height: 4.5rem;
        }

        .card-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
            border: 1px solid #e9ecef;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
            gap: 0.4rem;
            min-height: 2.5rem; /* Ensure consistent height */
        }

        .detail-label {
            font-size: 0.75rem;
            color: #999;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .detail-value {
            font-size: 0.9rem;
            color: #333;
            font-weight: 600;
            line-height: 1.3;
            word-break: break-word; /* Prevent overflow */
        }

        .prize-amount {
            color: #f39c12;
            font-size: 1rem;
            font-weight: 700;
        }

        .participant-count {
            color: #28a745;
        }

        .card-timeline {
            padding: 1rem;
            background: #fff;
            border: 1px solid #e9ecef;
            border-radius: 10px;
        }

        .timeline-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.8rem;
        }

        .timeline-label {
            font-size: 0.9rem;
            color: #666;
            font-weight: 600;
        }

        .timeline-remaining {
            font-size: 0.8rem;
            font-weight: 700;
            padding: 0.3rem 0.8rem;
            border-radius: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .timeline-remaining.active {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .timeline-remaining.ending {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .timeline-remaining.ended {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .timeline-bar {
            background: #f8f9fa;
            height: 10px; /* Slightly thicker for better visibility */
            border-radius: 5px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
            border: 1px solid #e9ecef;
        }

        .timeline-fill {
            height: 100%;
            background: linear-gradient(90deg, #f39c12, #e67e22);
            border-radius: 5px;
            transition: width 0.3s ease;
            position: relative;
        }

        .timeline-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            border-radius: 5px;
        }

        .card-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            min-height: 32px; /* Space for tags */
        }

        .tag {
            background: #fff3e0;
            color: #f39c12;
            padding: 0.4rem 0.8rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
            border: 1px solid #ffcc80;
            white-space: nowrap;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .card-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 2px solid #f0f0f0;
            padding: 1.2rem 1.5rem;
            margin-top: auto;
            background: linear-gradient(135deg, #fafbfc 0%, #f8f9fa 100%);
            min-height: 70px; /* Fixed footer height */
        }

        .status-badge {
            padding: 0.6rem 1.2rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            border: 2px solid transparent;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .status-upcoming { 
            background: linear-gradient(135deg, #e3f2fd, #bbdefb); 
            color: #1565c0;
            border-color: #90caf9;
        }
        .status-active { 
            background: linear-gradient(135deg, #e8f5e8, #c8e6c9); 
            color: #2e7d32;
            border-color: #a5d6a7;
        }
        .status-ending { 
            background: linear-gradient(135deg, #fff3e0, #ffcc80); 
            color: #ef6c00;
            border-color: #ffb74d;
        }
        .status-ended { 
            background: linear-gradient(135deg, #fce4ec, #f8bbd9); 
            color: #c2185b;
            border-color: #f48fb1;
        }
        .status-evaluating { 
            background: linear-gradient(135deg, #f3e5f5, #e1bee7); 
            color: #7b1fa2;
            border-color: #ce93d8;
        }

        .card-actions {
            display: flex;
            gap: 0.6rem;
        }

        .action-btn {
            width: 40px;
            height: 40px;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            font-size: 1rem;
            box-shadow: 0 3px 6px rgba(0,0,0,0.15);
            border: 2px solid transparent;
        }

        .btn-view {
            background: linear-gradient(135deg, #667eea, #5a67d8);
            color: white;
        }

        .btn-view:hover {
            background: linear-gradient(135deg, #5a67d8, #4c63d2);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 6px 15px rgba(102, 126, 234, 0.4);
        }

        .btn-edit {
            background: linear-gradient(135deg, #28a745, #218838);
            color: white;
        }

        .btn-edit:hover {
            background: linear-gradient(135deg, #218838, #1e7e34);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 6px 15px rgba(40, 167, 69, 0.4);
        }

        .btn-results {
            background: linear-gradient(135deg, #f39c12, #e67e22);
            color: white;
        }

        .btn-results:hover {
            background: linear-gradient(135deg, #e67e22, #d68910);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 6px 15px rgba(243, 156, 18, 0.4);
        }

        .btn-dashboard {
            background: linear-gradient(135deg, #17a2b8, #138496);
            color: white;
        }

        .btn-dashboard:hover {
            background: linear-gradient(135deg, #138496, #117a8b);
            transform: scale(1.1) translateY(-2px);
            box-shadow: 0 6px 15px rgba(23, 162, 184, 0.4);
        }

        /* Pagination */
        .pagination-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 2rem;
            padding: 1.5rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            border: 1px solid #eee;
        }

        .pagination-info {
            color: #666;
            font-size: 0.9rem;
        }

        .pagination {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .page-btn {
            padding: 0.6rem 1rem;
            border: 1px solid #dee2e6;
            background: white;
            color: #666;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 0.9rem;
        }

        .page-btn:hover {
            background: #f8f9fa;
            border-color: #f39c12;
        }

        .page-btn.active {
            background: #f39c12;
            color: white;
            border-color: #f39c12;
        }

        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Empty State */
        .empty-state {
            display: none;
            text-align: center;
            padding: 4rem 2rem;
            background: white;
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.08);
            border: 1px solid #eee;
        }

        .empty-icon {
            font-size: 4rem;
            color: #dee2e6;
            margin-bottom: 1.5rem;
        }

        .empty-title {
            font-size: 1.3rem;
            color: #333;
            margin-bottom: 0.8rem;
            font-weight: 600;
        }

        .empty-description {
            color: #666;
            margin-bottom: 2rem;
            max-width: 400px;
            margin-left: auto;
            margin-right: auto;
        }

        .empty-action {
            background: #f39c12;
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s;
        }

        .empty-action:hover {
            background: #e67e22;
            transform: translateY(-2px);
        }

        /* Loading State */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 9999;
            align-items: center;
            justify-content: center;
        }

        .loading-spinner {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #f39c12;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        /* Responsive */
        @media (max-width: 1400px) {
            .competitions-grid {
                grid-template-columns: repeat(auto-fill, minmax(420px, 1fr));
            }
        }

        @media (max-width: 1200px) {
            .search-filters {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .competitions-grid {
                grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));
                gap: 1.5rem;
            }
        }

        @media (max-width: 768px) {
            .main-container {
                padding: 1rem;
            }

            .controls-section {
                padding: 1rem;
            }

            .competitions-grid {
                grid-template-columns: 1fr;
            }

            .competition-card {
                height: auto;
                min-height: 600px;
            }

            .results-header {
                flex-direction: column;
                align-items: stretch;
            }

            .pagination-container {
                flex-direction: column;
                gap: 1rem;
            }

            .card-header {
                padding: 1rem;
                min-height: 120px;
            }

            .card-body {
                padding: 1rem;
                gap: 0.8rem;
            }

            .card-title {
                font-size: 1.1rem;
                padding-right: 5rem;
            }

            .card-id {
                font-size: 0.75rem;
                padding: 0.3rem 0.6rem;
            }

            .card-details {
                grid-template-columns: 1fr;
                gap: 0.8rem;
            }

            .card-actions {
                gap: 0.4rem;
            }

            .action-btn {
                width: 38px;
                height: 38px;
                font-size: 0.9rem;
            }
        }

        @media (max-width: 480px) {
            .competitions-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .competition-card {
                min-height: 580px;
            }

            .card-actions {
                gap: 0.3rem;
            }

            .action-btn {
                width: 36px;
                height: 36px;
                font-size: 0.85rem;
            }

            .card-details {
                padding: 0.8rem;
                gap: 0.6rem;
            }

            .detail-item {
                min-height: 2rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="nav-container">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-cube"></i>
                </div>
                <span class="logo-text">X01</span>
            </div>
            
            <nav>
                <ul class="nav-menu">
                    <li>
                        <a href="#">
                            <i class="fas fa-home"></i>
                            <span>Trang chủ</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-lightbulb"></i>
                            <span>Sáng kiến</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="active">
                            <i class="fas fa-trophy"></i>
                            <span>Thi đua</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-newspaper"></i>
                            <span>Tin tức</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-chart-bar"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="#">
                            <i class="fas fa-star"></i>
                            <span>Vinh danh</span>
                        </a>
                    </li>
                </ul>
            </nav>

            <div class="user-menu">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Tìm kiếm...">
                </div>
                
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>
    </header>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="breadcrumb-container">
            <nav class="breadcrumb-nav">
                <a href="#"><i class="fas fa-home"></i> Trang chủ</a>
                <i class="fas fa-chevron-right"></i>
                <span>Danh sách Chương trình Thi đua</span>
            </nav>
        </div>
    </div>

    <!-- Page Header -->
    <div class="page-header">
        <div class="page-header-container">
            <div class="page-title">
                <div class="title-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <h1>Danh sách Chương trình Thi đua</h1>
            </div>
            
            <p class="page-description">
                Tham gia và theo dõi các chương trình thi đua, cuộc thi sáng kiến và nhận giải thưởng. 
                Nơi ghi nhận những đóng góp xuất sắc cho quá trình chuyển đổi số.
            </p>

            <div class="page-stats">
                <div class="page-stat">
                    <i class="fas fa-trophy"></i>
                    <div>
                        <div class="stat-value">24</div>
                        <div class="stat-label">Chương trình thi đua</div>
                    </div>
                </div>
                <div class="page-stat">
                    <i class="fas fa-play-circle"></i>
                    <div>
                        <div class="stat-value">8</div>
                        <div class="stat-label">Đang diễn ra</div>
                    </div>
                </div>
                <div class="page-stat">
                    <i class="fas fa-users"></i>
                    <div>
                        <div class="stat-value">1,247</div>
                        <div class="stat-label">Người tham gia</div>
                    </div>
                </div>
                <div class="page-stat">
                    <i class="fas fa-gift"></i>
                    <div>
                        <div class="stat-value">2.5B</div>
                        <div class="stat-label">Tổng giải thưởng</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Container -->
    <div class="main-container">
        <!-- Controls Section -->
        <div class="controls-section">
            <div class="controls-header">
                <div class="controls-title">
                    <i class="fas fa-filter"></i>
                    Bộ lọc &amp; Tìm kiếm
                </div>
                
                <button class="add-program-btn">
                    <i class="fas fa-plus"></i>
                    Tạo chương trình mới
                </button>
            </div>

            <!-- Search & Filters -->
            <div class="search-filters">
                <div class="search-group">
                    <label>Tìm kiếm chương trình</label>
                    <div class="search-input-wrapper">
                        <i class="fas fa-search search-icon"></i>
                        <input type="text" class="search-input" placeholder="Nhập tên chương trình, cuộc thi hoặc từ khóa..." id="searchInput">
                    </div>
                </div>

                <div class="search-group">
                    <label>Trạng thái</label>
                    <select class="filter-select" id="statusFilter">
                        <option value="">Tất cả trạng thái</option>
                        <option value="upcoming">Sắp diễn ra</option>
                        <option value="active">Đang diễn ra</option>
                        <option value="ending">Sắp kết thúc</option>
                        <option value="ended">Đã kết thúc</option>
                        <option value="evaluating">Đang đánh giá</option>
                    </select>
                </div>

                <div class="search-group">
                    <label>Thời gian</label>
                    <select class="filter-select" id="timeFilter">
                        <option value="">Tất cả thời gian</option>
                        <option value="this-month">Tháng này</option>
                        <option value="this-quarter">Quý này</option>
                        <option value="this-year">Năm này</option>
                        <option value="last-month">Tháng trước</option>
                        <option value="last-quarter">Quý trước</option>
                        <option value="last-year">Năm trước</option>
                    </select>
                </div>

                <div class="search-group">
                    <label>Loại giải thưởng</label>
                    <select class="filter-select" id="prizeFilter">
                        <option value="">Tất cả giải thưởng</option>
                        <option value="money">Tiền thưởng</option>
                        <option value="recognition">Vinh danh</option>
                        <option value="promotion">Thăng tiến</option>
                        <option value="training">Đào tạo</option>
                        <option value="other">Khác</option>
                    </select>
                </div>

                <button class="clear-filters-btn" id="clearFilters">
                    <i class="fas fa-times"></i>
                    Xóa bộ lọc
                </button>
            </div>

            <!-- Active Filters -->
            <div class="active-filters" id="activeFilters">
                <!-- Dynamic filter tags will be inserted here -->
            </div>
        </div>

        <!-- Results Header -->
        <div class="results-header">
            <div class="results-info">
                Hiển thị <span class="results-count" id="resultsCount">24</span> kết quả
            </div>
            
            <div class="sort-controls">
                <span class="sort-label">Sắp xếp theo:</span>
                <select class="sort-select" id="sortSelect">
                    <option value="newest">Mới nhất</option>
                    <option value="oldest">Cũ nhất</option>
                    <option value="name-asc">Tên A-Z</option>
                    <option value="name-desc">Tên Z-A</option>
                    <option value="prize-high">Giải thưởng cao nhất</option>
                    <option value="prize-low">Giải thưởng thấp nhất</option>
                    <option value="deadline">Hạn cuối gần nhất</option>
                    <option value="participants">Nhiều người tham gia</option>
                </select>
            </div>
        </div>

        <!-- Competitions Grid -->
        <div class="competitions-grid" id="competitionsGrid">
            <!-- Competition Cards -->
            <div class="competition-card" data-status="active" data-time="this-quarter" data-prize="money">
                <div class="card-header">
                    <div class="card-id">#TD-2024-001</div>
                    <div class="card-title">Thi đua Sáng kiến Xuất sắc Q3/2025</div>
                    <div class="card-meta">
                        <span><i class="fas fa-calendar"></i> 01/07 - 30/09/2025</span>
                        <span><i class="fas fa-users"></i> 156 người tham gia</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        Cuộc thi tìm kiếm và vinh danh những sáng kiến xuất sắc nhất trong quá trình chuyển đổi số. 
                        Khuyến khích đổi mới sáng tạo và ứng dụng công nghệ tiên tiến.
                    </div>
                    
                    <div class="card-details">
                        <div class="detail-item">
                            <div class="detail-label">Giải thưởng</div>
                            <div class="detail-value prize-amount">500 triệu đồng</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Người tham gia</div>
                            <div class="detail-value participant-count">156 người</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Hạn nộp</div>
                            <div class="detail-value">15/08/2025</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Công bố kết quả</div>
                            <div class="detail-value">01/10/2025</div>
                        </div>
                    </div>

                    <div class="card-timeline">
                        <div class="timeline-header">
                            <span class="timeline-label">Thời gian còn lại</span>
                            <span class="timeline-remaining active">34 ngày</span>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill" style="width: 65%;"></div>
                        </div>
                    </div>

                    <div class="card-tags">
                        <span class="tag">Sáng kiến</span>
                        <span class="tag">Innovation</span>
                        <span class="tag">500M VND</span>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="status-badge status-active">Đang diễn ra</div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" title="Xem chi tiết">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn btn-results" title="Bảng xếp hạng">
                            <i class="fas fa-list-ol"></i>
                        </button>
                        <button class="action-btn btn-dashboard" title="Dashboard">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="competition-card" data-status="ending" data-time="this-month" data-prize="money">
                <div class="card-header">
                    <div class="card-id">#TD-2024-002</div>
                    <div class="card-title">Cuộc thi "Ý tưởng Chuyển đổi số"</div>
                    <div class="card-meta">
                        <span><i class="fas fa-calendar"></i> 15/06 - 15/08/2025</span>
                        <span><i class="fas fa-users"></i> 89 người tham gia</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        Tìm kiếm những ý tưởng sáng tạo và khả thi để thúc đẩy quá trình chuyển đổi số tại ngân hàng. 
                        Chào đón mọi ý tưởng từ nhân viên các phòng ban.
                    </div>
                    
                    <div class="card-details">
                        <div class="detail-item">
                            <div class="detail-label">Giải thưởng</div>
                            <div class="detail-value prize-amount">100 triệu đồng</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Người tham gia</div>
                            <div class="detail-value participant-count">89 người</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Hạn nộp</div>
                            <div class="detail-value">15/08/2025</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Công bố kết quả</div>
                            <div class="detail-value">01/09/2025</div>
                        </div>
                    </div>

                    <div class="card-timeline">
                        <div class="timeline-header">
                            <span class="timeline-label">Thời gian còn lại</span>
                            <span class="timeline-remaining ending">4 ngày</span>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill" style="width: 95%;"></div>
                        </div>
                    </div>

                    <div class="card-tags">
                        <span class="tag">Ý tưởng</span>
                        <span class="tag">Digital Ideas</span>
                        <span class="tag">100M VND</span>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="status-badge status-ending">Sắp kết thúc</div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" title="Xem chi tiết">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn btn-results" title="Bảng xếp hạng">
                            <i class="fas fa-list-ol"></i>
                        </button>
                        <button class="action-btn btn-dashboard" title="Dashboard">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="competition-card" data-status="evaluating" data-time="last-month" data-prize="recognition">
                <div class="card-header">
                    <div class="card-id">#TD-2024-003</div>
                    <div class="card-title">Thi đua Tiết kiệm năng lượng</div>
                    <div class="card-meta">
                        <span><i class="fas fa-calendar"></i> 01/06 - 30/06/2025</span>
                        <span><i class="fas fa-users"></i> 234 người tham gia</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        Chương trình khuyến khích tiết kiệm năng lượng và bảo vệ môi trường trong hoạt động ngân hàng. 
                        Giảm thiểu carbon footprint và chi phí vận hành.
                    </div>
                    
                    <div class="card-details">
                        <div class="detail-item">
                            <div class="detail-label">Giải thưởng</div>
                            <div class="detail-value prize-amount">Bằng khen + Du lịch</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Người tham gia</div>
                            <div class="detail-value participant-count">234 người</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Mục tiêu</div>
                            <div class="detail-value">Giảm 20% điện năng</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Tiến độ đạt được</div>
                            <div class="detail-value">65%</div>
                        </div>
                    </div>

                    <div class="card-timeline">
                        <div class="timeline-header">
                            <span class="timeline-label">Trạng thái</span>
                            <span class="timeline-remaining ended">Đang đánh giá</span>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill" style="width: 100%;"></div>
                        </div>
                    </div>

                    <div class="card-tags">
                        <span class="tag">Tiết kiệm</span>
                        <span class="tag">Green Banking</span>
                        <span class="tag">Môi trường</span>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="status-badge status-evaluating">Đang đánh giá</div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" title="Xem chi tiết">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn btn-results" title="Bảng xếp hạng">
                            <i class="fas fa-list-ol"></i>
                        </button>
                        <button class="action-btn btn-dashboard" title="Dashboard">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="competition-card" data-status="upcoming" data-time="this-year" data-prize="promotion">
                <div class="card-header">
                    <div class="card-id">#TD-2024-004</div>
                    <div class="card-title">Cuộc thi Hackathon FinTech 2025</div>
                    <div class="card-meta">
                        <span><i class="fas fa-calendar"></i> 01/09 - 03/09/2025</span>
                        <span><i class="fas fa-users"></i> 0 người đăng ký</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        Cuộc thi lập trình 48 giờ tìm kiếm giải pháp FinTech sáng tạo. 
                        Cơ hội để các developer thể hiện kỹ năng và sáng tạo những sản phẩm đột phá.
                    </div>
                    
                    <div class="card-details">
                        <div class="detail-item">
                            <div class="detail-label">Giải thưởng</div>
                            <div class="detail-value prize-amount">Cơ hội thăng tiến</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Thời gian</div>
                            <div class="detail-value">48 giờ liên tục</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Đăng ký đến</div>
                            <div class="detail-value">25/08/2025</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Địa điểm</div>
                            <div class="detail-value">Trụ sở chính</div>
                        </div>
                    </div>

                    <div class="card-timeline">
                        <div class="timeline-header">
                            <span class="timeline-label">Bắt đầu sau</span>
                            <span class="timeline-remaining active">21 ngày</span>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill" style="width: 15%;"></div>
                        </div>
                    </div>

                    <div class="card-tags">
                        <span class="tag">Hackathon</span>
                        <span class="tag">FinTech</span>
                        <span class="tag">48h</span>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="status-badge status-upcoming">Sắp diễn ra</div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" title="Xem chi tiết">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn btn-edit" title="Chỉnh sửa">
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="competition-card" data-status="ended" data-time="last-quarter" data-prize="money">
                <div class="card-header">
                    <div class="card-id">#TD-2024-005</div>
                    <div class="card-title">Thi đua Dịch vụ Khách hàng xuất sắc</div>
                    <div class="card-meta">
                        <span><i class="fas fa-calendar"></i> 01/04 - 30/06/2025</span>
                        <span><i class="fas fa-users"></i> 178 người tham gia</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        Chương trình thi đua nâng cao chất lượng dịch vụ khách hàng, 
                        tăng cường trải nghiệm và độ hài lòng của khách hàng đối với ngân hàng.
                    </div>
                    
                    <div class="card-details">
                        <div class="detail-item">
                            <div class="detail-label">Giải thưởng</div>
                            <div class="detail-value prize-amount">200 triệu đồng</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Người tham gia</div>
                            <div class="detail-value participant-count">178 người</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Người chiến thắng</div>
                            <div class="detail-value">Nguyễn Thị Mai</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Điểm số</div>
                            <div class="detail-value">98.5/100</div>
                        </div>
                    </div>

                    <div class="card-timeline">
                        <div class="timeline-header">
                            <span class="timeline-label">Trạng thái</span>
                            <span class="timeline-remaining ended">Đã hoàn thành</span>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill" style="width: 100%;"></div>
                        </div>
                    </div>

                    <div class="card-tags">
                        <span class="tag">Customer Service</span>
                        <span class="tag">Đã kết thúc</span>
                        <span class="tag">200M VND</span>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="status-badge status-ended">Đã kết thúc</div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" title="Xem chi tiết">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn btn-results" title="Kết quả">
                            <i class="fas fa-trophy"></i>
                        </button>
                        <button class="action-btn btn-dashboard" title="Dashboard">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                    </div>
                </div>
            </div>

            <div class="competition-card" data-status="active" data-time="this-year" data-prize="training">
                <div class="card-header">
                    <div class="card-id">#TD-2024-006</div>
                    <div class="card-title">Chương trình Đại sứ Công nghệ</div>
                    <div class="card-meta">
                        <span><i class="fas fa-calendar"></i> 01/01 - 31/12/2025</span>
                        <span><i class="fas fa-users"></i> 67 người tham gia</span>
                    </div>
                </div>
                <div class="card-body">
                    <div class="card-description">
                        Tìm kiếm và đào tạo những đại sứ công nghệ, truyền bá kiến thức và kỹ năng số 
                        cho toàn thể nhân viên ngân hàng.
                    </div>
                    
                    <div class="card-details">
                        <div class="detail-item">
                            <div class="detail-label">Giải thưởng</div>
                            <div class="detail-value prize-amount">Khóa đào tạo quốc tế</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Người tham gia</div>
                            <div class="detail-value participant-count">67 người</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Yêu cầu</div>
                            <div class="detail-value">5+ năm kinh nghiệm</div>
                        </div>
                        <div class="detail-item">
                            <div class="detail-label">Chứng chỉ</div>
                            <div class="detail-value">Digital Leadership</div>
                        </div>
                    </div>

                    <div class="card-timeline">
                        <div class="timeline-header">
                            <span class="timeline-label">Thời gian còn lại</span>
                            <span class="timeline-remaining active">144 ngày</span>
                        </div>
                        <div class="timeline-bar">
                            <div class="timeline-fill" style="width: 55%;"></div>
                        </div>
                    </div>

                    <div class="card-tags">
                        <span class="tag">Tech Ambassador</span>
                        <span class="tag">Training</span>
                        <span class="tag">Leadership</span>
                    </div>
                </div>
                <div class="card-footer">
                    <div class="status-badge status-active">Đang diễn ra</div>
                    <div class="card-actions">
                        <button class="action-btn btn-view" title="Xem chi tiết">
                            <i class="fas fa-eye"></i>
                        </button>
                        <button class="action-btn btn-results" title="Bảng xếp hạng">
                            <i class="fas fa-list-ol"></i>
                        </button>
                        <button class="action-btn btn-dashboard" title="Dashboard">
                            <i class="fas fa-chart-bar"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Empty State -->
        <div class="empty-state" id="emptyState">
            <div class="empty-icon">
                <i class="fas fa-search"></i>
            </div>
            <div class="empty-title">Không tìm thấy chương trình thi đua nào</div>
            <div class="empty-description">
                Thử điều chỉnh bộ lọc hoặc từ khóa tìm kiếm để xem các chương trình phù hợp.
            </div>
            <button class="empty-action" onclick="clearAllFilters()">
                Xóa tất cả bộ lọc
            </button>
        </div>

        <!-- Pagination -->
        <div class="pagination-container">
            <div class="pagination-info">
                Hiển thị 1-6 của 24 kết quả
            </div>
            
            <div class="pagination">
                <button class="page-btn" disabled="">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="page-btn active">1</button>
                <button class="page-btn">2</button>
                <button class="page-btn">3</button>
                <button class="page-btn">4</button>
                <button class="page-btn">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <div>Đang tải dữ liệu...</div>
        </div>
    </div>

    <script>
        // Global variables
        let activeFilters = {};

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            initializeEventListeners();
            updateActiveFilters();
        });

        // Event listeners
        function initializeEventListeners() {
            // Search input
            document.getElementById('searchInput').addEventListener('input', debounce(handleSearch, 300));

            // Filter selects
            document.getElementById('statusFilter').addEventListener('change', handleFilterChange);
            document.getElementById('timeFilter').addEventListener('change', handleFilterChange);
            document.getElementById('prizeFilter').addEventListener('change', handleFilterChange);

            // Sort select
            document.getElementById('sortSelect').addEventListener('change', handleSort);

            // Clear filters
            document.getElementById('clearFilters').addEventListener('click', clearAllFilters);

            // Card actions
            document.addEventListener('click', function(e) {
                if (e.target.closest('.action-btn')) {
                    handleActionClick(e.target.closest('.action-btn'));
                }
            });

            // Add program button
            document.querySelector('.add-program-btn').addEventListener('click', function() {
                alert('🎯 Tạo chương trình thi đua mới!\n\nChức năng này sẽ mở form tạo chương trình thi đua với các thông tin:\n• Tên chương trình\n• Thời gian diễn ra\n• Thể lệ thi đua\n• Giải thưởng\n• Tiêu chí đánh giá');
            });
        }

        // Search functionality
        function handleSearch(e) {
            const searchTerm = e.target.value.toLowerCase();
            
            if (searchTerm) {
                activeFilters.search = searchTerm;
            } else {
                delete activeFilters.search;
            }
            
            updateActiveFilters();
            filterCompetitions();
        }

        // Filter change
        function handleFilterChange(e) {
            const filterType = e.target.id.replace('Filter', '');
            const value = e.target.value;
            
            if (value) {
                activeFilters[filterType] = value;
            } else {
                delete activeFilters[filterType];
            }
            
            updateActiveFilters();
            filterCompetitions();
        }

        // Update active filters display
        function updateActiveFilters() {
            const container = document.getElementById('activeFilters');
            container.innerHTML = '';

            Object.entries(activeFilters).forEach(([key, value]) => {
                const filterTag = document.createElement('div');
                filterTag.className = 'filter-tag';
                
                let displayText = '';
                if (key === 'search') {
                    displayText = `Tìm kiếm: "${value}"`;
                } else if (key === 'status') {
                    const statusNames = {
                        'upcoming': 'Sắp diễn ra',
                        'active': 'Đang diễn ra',
                        'ending': 'Sắp kết thúc',
                        'ended': 'Đã kết thúc',
                        'evaluating': 'Đang đánh giá'
                    };
                    displayText = `Trạng thái: ${statusNames[value]}`;
                } else if (key === 'time') {
                    const timeNames = {
                        'this-month': 'Tháng này',
                        'this-quarter': 'Quý này',
                        'this-year': 'Năm này',
                        'last-month': 'Tháng trước',
                        'last-quarter': 'Quý trước',
                        'last-year': 'Năm trước'
                    };
                    displayText = `Thời gian: ${timeNames[value]}`;
                } else if (key === 'prize') {
                    const prizeNames = {
                        'money': 'Tiền thưởng',
                        'recognition': 'Vinh danh',
                        'promotion': 'Thăng tiến',
                        'training': 'Đào tạo',
                        'other': 'Khác'
                    };
                    displayText = `Giải thưởng: ${prizeNames[value]}`;
                }

                filterTag.innerHTML = `
                    ${displayText}
                    <span class="remove-filter" onclick="removeFilter('${key}')">
                        <i class="fas fa-times"></i>
                    </span>
                `;

                container.appendChild(filterTag);
            });
        }

        // Remove filter
        function removeFilter(filterKey) {
            delete activeFilters[filterKey];
            
            // Update form controls
            if (filterKey === 'search') {
                document.getElementById('searchInput').value = '';
            } else {
                document.getElementById(filterKey + 'Filter').value = '';
            }
            
            updateActiveFilters();
            filterCompetitions();
        }

        // Clear all filters
        function clearAllFilters() {
            activeFilters = {};
            
            // Reset form controls
            document.getElementById('searchInput').value = '';
            document.getElementById('statusFilter').value = '';
            document.getElementById('timeFilter').value = '';
            document.getElementById('prizeFilter').value = '';
            
            updateActiveFilters();
            filterCompetitions();
        }

        // Filter competitions
        function filterCompetitions() {
            showLoading();
            
            setTimeout(() => {
                const cards = document.querySelectorAll('.competition-card');
                let visibleCount = 0;

                cards.forEach(card => {
                    let isVisible = true;

                    // Search filter
                    if (activeFilters.search) {
                        const title = card.querySelector('.card-title').textContent.toLowerCase();
                        const description = card.querySelector('.card-description').textContent.toLowerCase();
                        if (!title.includes(activeFilters.search) && !description.includes(activeFilters.search)) {
                            isVisible = false;
                        }
                    }

                    // Status filter
                    if (activeFilters.status && card.dataset.status !== activeFilters.status) {
                        isVisible = false;
                    }

                    // Time filter
                    if (activeFilters.time && card.dataset.time !== activeFilters.time) {
                        isVisible = false;
                    }

                    // Prize filter
                    if (activeFilters.prize && card.dataset.prize !== activeFilters.prize) {
                        isVisible = false;
                    }

                    card.style.display = isVisible ? 'flex' : 'none';
                    
                    if (isVisible) {
                        visibleCount++;
                    }
                });

                // Update results count
                document.getElementById('resultsCount').textContent = visibleCount;

                // Show/hide empty state
                const emptyState = document.getElementById('emptyState');
                const grid = document.getElementById('competitionsGrid');

                if (visibleCount === 0) {
                    emptyState.style.display = 'block';
                    grid.style.display = 'none';
                } else {
                    emptyState.style.display = 'none';
                    grid.style.display = 'grid';
                }

                hideLoading();
            }, 500);
        }

        // Handle sorting
        function handleSort(e) {
            const sortValue = e.target.value;
            showLoading();
            
            setTimeout(() => {
                console.log('Sorting by:', sortValue);
                hideLoading();
            }, 300);
        }

        // Handle action clicks
        function handleActionClick(btn) {
            const action = btn.classList.contains('btn-view') ? 'view' : 
                          btn.classList.contains('btn-edit') ? 'edit' : 
                          btn.classList.contains('btn-results') ? 'results' : 'dashboard';
            
            const card = btn.closest('.competition-card');
            const title = card.querySelector('.card-title').textContent;
            const id = card.querySelector('.card-id').textContent;
            
            console.log(`Action: ${action} on competition: ${title} (${id})`);
            
            if (action === 'view') {
                alert(`📋 Xem chi tiết chương trình:\n${title}\n\nThông tin chi tiết:\n• Thể lệ thi đua\n• Tiêu chí đánh giá\n• Quy trình tham gia\n• Lịch trình cụ thể`);
            } else if (action === 'edit') {
                alert(`✏️ Chỉnh sửa chương trình:\n${title}\n\nCó thể chỉnh sửa:\n• Thông tin cơ bản\n• Thời gian\n• Giải thưởng\n• Thể lệ`);
            } else if (action === 'results') {
                alert(`🏆 Xem kết quả/bảng xếp hạng:\n${title}\n\nThông tin hiển thị:\n• Bảng xếp hạng\n• Điểm số\n• Thành tích\n• Người chiến thắng`);
            } else if (action === 'dashboard') {
                alert(`📊 Dashboard chương trình:\n${title}\n\nBáo cáo bao gồm:\n• Thống kê tham gia\n• Biểu đồ tiến độ\n• Phân tích dữ liệu\n• Xu hướng`);
            }
        }

        // Loading states
        function showLoading() {
            document.getElementById('loadingOverlay').style.display = 'flex';
        }

        function hideLoading() {
            document.getElementById('loadingOverlay').style.display = 'none';
        }

        // Utility functions
        function debounce(func, wait) {
            let timeout;
            return function executedFunction(...args) {
                const later = () => {
                    clearTimeout(timeout);
                    func(...args);
                };
                clearTimeout(timeout);
                timeout = setTimeout(later, wait);
            };
        }

        // Animation on scroll
        function observeElements() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            });

            document.querySelectorAll('.competition-card').forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                card.style.transition = 'all 0.5s ease-out';
                observer.observe(card);
            });
        }

        // Initialize animations
        setTimeout(observeElements, 100);
    </script>


</body></html>